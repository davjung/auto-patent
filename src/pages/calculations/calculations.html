<!--
  Generated template for the CalculationsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>
  <ion-navbar>
    <ion-title>Calculations</ion-title>
  </ion-navbar>
</ion-header>


<ion-content padding>
  <ion-card>
    <ion-card-header>
      <strong>
        Your patent was not found in our database. To manually calculate your expiration date, please fill out the form below.
      </strong>
    </ion-card-header>

    <div class="positionInfo">
      <ion-card-content>
        <form [formGroup]="patentCalcForm" (submit)="calcPatent(pt)" novalidate>

          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-input formControlName="appnumber" type="string" placeholder="Application Number" [(ngModel)]="pt.application_number">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-input formControlName="patentnumber" type="patentnumber" placeholder="Patent Number" [(ngModel)]="pt.patent_number">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-datetime formControlName="filing" placeholder="Filing Date" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31" [(ngModel)]="pt.patent_filing"></ion-datetime>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-datetime formControlName="grant" placeholder="Grant Date" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31" [(ngModel)]="pt.patent_grant"></ion-datetime>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Type of Patent:
            </ion-col>
            <ion-col>
              <ion-segment formControlName="patenttype" [(ngModel)]="pt.patent_type">
                <ion-segment-button value="Utility">
                  Utility
                </ion-segment-button>
                <ion-segment-button value="Plant">
                  Plant
                </ion-segment-button>
                <ion-segment-button value="Design">
                  Design
                </ion-segment-button>
              </ion-segment>
            </ion-col>
          </ion-row>

          <!-- only if utility patent -->
          <!-- we want date of expiration, change to paid each fee -->
          <ion-row>
            <ion-col>
              All maintenance fees paid within 6 months after deadline?
            </ion-col>
            <ion-col>
              <ion-segment formControlName="mainfees" [(ngModel)]="pt.maintenance_fees">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Terminal Disclaimer?
            </ion-col>
            <ion-col>
              <ion-segment formControlName="td" [(ngModel)]="pt.terminal_disclaimers">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              If yes, earliest TD based expiration date? (Parent/assigned expiration date)
            </ion-col>
            <ion-col col-5>
              <ion-item>
                <ion-datetime formControlName="td_ed" placeholder="Date" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31" [(ngModel)]="pt.terminal_disclaimers_td"></ion-datetime>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              If yes, related parent patent number?
            </ion-col>
            <ion-col col-5>
              <ion-item>
                <ion-input formControlName="td_pn" type="patentnumber" placeholder="Parent patent number" [(ngModel)]="pt.terminal_disclaimers_pt"></ion-input>
              </ion-item>
            </ion-col>
          </ion-row>


          <!-- change so that you can choose one or both or neither -->

          <!-- show only if filing date >= may 29 2000 -->
          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-input formControlName="pta" type="number" placeholder="PTA days, if applicable" [(ngModel)]="pt.pta_154">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col col-5>
              <ion-item>
                <ion-input formControlName="pte" type="number" placeholder="PTE days, if applicable" [(ngModel)]="pt.pte_156">
                </ion-input>
              </ion-item>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Does patent claim any domestic benefit?
            </ion-col>
            <ion-col>
              <ion-segment formControlName="domben" [(ngModel)]="pt.domestic_benefit">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              If yes, what is the earliest effective filing date?
            </ion-col>
            <ion-col col-5>
              <ion-item>
                <ion-datetime formControlName="db_eefd" placeholder="EEFD" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31" [(ngModel)]="pt.domestic_benefit_eff_date"></ion-datetime>
              </ion-item>
            </ion-col>
          </ion-row>



          <button ion-button icon-only type="submit" class="submit" outline>
            <ion-icon name="search"></ion-icon>
          </button>
        </form>

        <!-- {{pt | json}} -->

        <ion-label> <strong> Estimated Expiration Date: </strong>
          {{patent_info.adjusted_patent_expiration}}
        </ion-label>

        <ion-label class="positionDetailedInfoText">
           If you want to see more detailed info, please pay here:
        </ion-label>

        <!-- <button class="payNow" *ngIf="patent_info !== undefined && patent_info.not_in_database === false" ion-button block type="submit" (click)="seeMoreInfo()"> Pay Now </button> -->

      </ion-card-content>
    </div>

  </ion-card>

</ion-content>
