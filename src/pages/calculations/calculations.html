<!--
  Generated template for the CalculationsPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>


  <ion-navbar color="primary">
    <ion-title>Calculations</ion-title>
  </ion-navbar>

</ion-header>


<ion-content padding>

  <ion-card>
    <ion-card-header>
      <strong>
        * Your patent was not found in our database. To manually calculate your expiration date, please fill out the form below.
      </strong>
    </ion-card-header>
  </ion-card>


    <div class="positionInfo">
      <ion-card>
      <ion-card-content>
        <form [formGroup]="patentCalcForm" (submit)="calcPatent(pt)" novalidate>

          <ion-row>
            <ion-col>
              Application Number:
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item >
                <ion-label stacked> Application Number </ion-label>
                <ion-input formControlName="appnumber" [(ngModel)]="pt.application_number" type="string" placeholder="Your Application Number">
                </ion-input>
              </ion-item>
            </ion-card>
            </ion-col>
            <ion-col>
              Patent Number:
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> Patent Number </ion-label>
                <ion-input formControlName="patentnumber" [(ngModel)]="pt.patent_number" type="number" placeholder="Your Patent Number">
                </ion-input>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>


          <ion-row>
            <ion-col>
              Filing Date:
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> Filing Date </ion-label>
                <ion-datetime formControlName="filing" [(ngModel)]="pt.patent_filing" placeholder="Month Date, Year" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31"></ion-datetime>
              </ion-item>
            </ion-card>
            </ion-col>

            <ion-col>
              Grant Date:
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> Grant Date </ion-label>
                <ion-datetime formControlName="grant" [(ngModel)]="pt.patent_grant" placeholder="Month Date, Year" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31" ></ion-datetime>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Type of Patent:
            </ion-col>
            <ion-col>
              <ion-card>
              <ion-segment formControlName="patenttype" [(ngModel)]="pt.patent_type">
                <ion-segment-button value="Utility">
                  Utility
                </ion-segment-button>
                <ion-segment-button value="Plant">
                  Plant
                </ion-segment-button>
                <ion-segment-button value="Design">
                  Design
                </ion-segment-button>
              </ion-segment>
            </ion-card>
            </ion-col>
          </ion-row>

          <!-- only if utility patent -->
          <!-- we want date of expiration, change to paid each fee -->
          <ion-row>
            <ion-col>All maintenance fees paid within 6 months after deadline?</ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-segment formControlName="mainfees" [(ngModel)]="pt.maintenance_fees">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-card>
            </ion-col>
          </ion-row>
          
          <ion-row></ion-row>

          <ion-row>
            <ion-col>Terminal Disclaimer?</ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-segment formControlName="td" [(ngModel)]="pt.terminal_disclaimers">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-card>
            </ion-col>
          </ion-row>

          <!-- only if td -->
          <!-- <ion-row>
            <ion-col>
              Type of Terminal Disclaimer:
            </ion-col>
            <ion-col>
              <ion-segment formControlName="tdtype">
                <ion-segment-button value="full">
                  Full Statutory Term
                </ion-segment-button>
                <ion-segment-button value="date">
                  Date
                </ion-segment-button>
                <ion-segment-button value="termdate">
                  Term & Date
                </ion-segment-button>
              </ion-segment>
            </ion-col>
          </ion-row> -->
          <ion-card margin-left>
          <ion-row>
            <ion-col padding-left>
              IF YES to Terminal Disclaimer, earliest TD based expiration date? (Parent/Assigned Expiration Date)
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> Parent/Assigned Expiration Date </ion-label>
                <ion-datetime formControlName="td_ed" [(ngModel)]="pt.terminal_disclaimers_td" placeholder="Date" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31"></ion-datetime>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col padding-left >
              IF YES to Terminal Disclaimer, related parent patent number?
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> Parent Patent Number </ion-label>
                <ion-input formControlName="td_pn" type="patentnumber" placeholder="Parent patent number" [(ngModel)]="pt.terminal_disclaimers_pt"></ion-input>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>
        </ion-card>



          <!-- change so that you can choose one or both or neither -->

          <!-- show only if filing date >= may 29 2000 -->
          <ion-row>
            <ion-col>

                Does your patent have a Patent Term Adjustment?

            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>

                <ion-label stacked> PTA days, if applicable </ion-label>
                <ion-input formControlName="pta" [(ngModel)]="pt.pta_154" type="number" placeholder="Days">
                </ion-input>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Does your patent have a Patent Term Extension?

            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-label stacked> PTE days, if applicable </ion-label>
                <ion-input formControlName="pte" [(ngModel)]="pt.pte_156" type="number" placeholder="Days">
                </ion-input>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              Does patent claim any domestic benefit?
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-segment formControlName="domben" [(ngModel)]="pt.domestic_benefit">
                <ion-segment-button value="Yes">
                  Yes
                </ion-segment-button>
                <ion-segment-button value="No">
                  No
                </ion-segment-button>
              </ion-segment>
            </ion-card>
            </ion-col>
          </ion-row>

          <ion-row>
            <ion-col>
              If yes, what is the earliest effective filing date?
            </ion-col>
            <ion-col col-3>
              <ion-card>
              <ion-item>
                <ion-datetime formControlName="db_eefd" [(ngModel)]="pt.domestic_benefit_eff_date"  placeholder="EEFD" displayFormat="MMM DD, YYYY" min="1940-01-01" max="2018-12-31"></ion-datetime>
              </ion-item>
            </ion-card>
            </ion-col>
          </ion-row>



          <button ion-button icon-only type="submit" class="submit" outline>
            <ion-icon name="search"></ion-icon>
          </button>
        </form>

        <ion-label> <strong> Estimated Expiration Date: </strong>
          {{patent_info.adjusted_patent_expiration}}
        </ion-label>

        <ion-label class="positionDetailedInfoText">
           If you want to see more detailed info, please pay here:
        </ion-label>

        <!-- <button class="payNow" *ngIf="patent_info !== undefined && patent_info.not_in_database === false" ion-button block type="submit" (click)="seeMoreInfo()"> Pay Now </button> -->

      </ion-card-content>
    </ion-card>
    </div>



</ion-content>
